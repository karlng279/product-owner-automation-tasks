import { QuizQuestion, Difficulty } from "@/types";

export const quizQuestions: QuizQuestion[] = [
  // === BEGINNER QUESTIONS ===
  {
    id: "b1",
    difficulty: "beginner",
    question: "What does FOB stand for?",
    options: ["Free On Board", "Freight On Board", "Free Over Border", "First On Board"],
    correctIndex: 0,
    explanation: "FOB stands for 'Free On Board'. It means the seller delivers the goods on board the vessel nominated by the buyer at the named port of shipment.",
    relatedIncoterm: "FOB",
  },
  {
    id: "b2",
    difficulty: "beginner",
    question: "Which Incoterm places the MAXIMUM obligation on the seller?",
    options: ["EXW", "FOB", "CIF", "DDP"],
    correctIndex: 3,
    explanation: "DDP (Delivered Duty Paid) places maximum obligation on the seller, who must deliver goods cleared for import with all duties paid.",
    relatedIncoterm: "DDP",
  },
  {
    id: "b3",
    difficulty: "beginner",
    question: "Which Incoterm places the MINIMUM obligation on the seller?",
    options: ["DDP", "CIF", "FOB", "EXW"],
    correctIndex: 3,
    explanation: "EXW (Ex Works) places minimum obligation on the seller. The buyer takes all risk from the seller's premises.",
    relatedIncoterm: "EXW",
  },
  {
    id: "b4",
    difficulty: "beginner",
    question: "How many Incoterms are there in the 2020 version?",
    options: ["9", "10", "11", "13"],
    correctIndex: 2,
    explanation: "Incoterms 2020 contains 11 terms: 7 for any mode of transport and 4 for sea/inland waterway only.",
    relatedIncoterm: "FOB",
  },
  {
    id: "b5",
    difficulty: "beginner",
    question: "Which Incoterms can ONLY be used for sea transport?",
    options: ["EXW, FCA, CPT, CIP", "FAS, FOB, CFR, CIF", "DAP, DPU, DDP", "All Incoterms work for any transport"],
    correctIndex: 1,
    explanation: "FAS, FOB, CFR, and CIF are sea-only Incoterms. They reference ship-specific terms like 'on board' and 'alongside ship'.",
    relatedIncoterm: "FOB",
  },
  {
    id: "b6",
    difficulty: "beginner",
    question: "What does CIF stand for?",
    options: ["Cost in Full", "Carriage, Insurance, Freight", "Cost, Insurance and Freight", "Complete Import Fees"],
    correctIndex: 2,
    explanation: "CIF stands for 'Cost, Insurance and Freight'. The seller pays for freight and insurance to the destination port.",
    relatedIncoterm: "CIF",
  },
  {
    id: "b7",
    difficulty: "beginner",
    question: "Under FOB, who arranges the main sea freight?",
    options: ["Seller", "Buyer", "Shipping company", "Either party"],
    correctIndex: 1,
    explanation: "Under FOB, the buyer arranges and pays for the main sea freight. The seller's obligation ends when goods are on board.",
    relatedIncoterm: "FOB",
  },
  {
    id: "b8",
    difficulty: "beginner",
    question: "What is the main difference between EXW and FCA?",
    options: [
      "EXW is for sea only",
      "FCA requires seller to handle export clearance",
      "There is no difference",
      "EXW includes insurance",
    ],
    correctIndex: 1,
    explanation: "Under FCA, the seller must clear the goods for export, while under EXW, the buyer handles export clearance.",
    relatedIncoterm: "FCA",
  },
  {
    id: "b9",
    difficulty: "beginner",
    question: "Which Incoterm requires the seller to provide insurance?",
    options: ["FOB", "CFR", "CIF", "DAP"],
    correctIndex: 2,
    explanation: "CIF requires the seller to provide marine insurance. CFR is the same but without insurance obligation.",
    relatedIncoterm: "CIF",
  },
  {
    id: "b10",
    difficulty: "beginner",
    question: "What does DAP stand for?",
    options: ["Delivered at Port", "Delivered at Place", "Duty and Payment", "Destination Arrival Point"],
    correctIndex: 1,
    explanation: "DAP stands for 'Delivered at Place'. The seller delivers goods ready for unloading at the named destination.",
    relatedIncoterm: "DAP",
  },

  // === INTERMEDIATE QUESTIONS ===
  {
    id: "i1",
    difficulty: "intermediate",
    question: "Under CIF, at what point does risk transfer from seller to buyer?",
    options: [
      "When goods arrive at destination port",
      "When goods are placed on board the vessel at origin",
      "When insurance policy is issued",
      "When buyer takes physical possession",
    ],
    correctIndex: 1,
    explanation: "Despite seller paying freight and insurance, risk transfers when goods are loaded on board at the port of shipment, not at destination.",
    relatedIncoterm: "CIF",
  },
  {
    id: "i2",
    difficulty: "intermediate",
    question: "What insurance coverage level is required under CIP (Incoterms 2020)?",
    options: ["ICC C (minimum)", "ICC B (medium)", "ICC A (all risks)", "No minimum required"],
    correctIndex: 2,
    explanation: "Incoterms 2020 requires ICC A (all risks) coverage under CIP, while CIF only requires ICC C (minimum).",
    relatedIncoterm: "CIP",
  },
  {
    id: "i3",
    difficulty: "intermediate",
    question: "Which is the ONLY Incoterm that requires the seller to unload the goods?",
    options: ["DDP", "DAP", "DPU", "FCA"],
    correctIndex: 2,
    explanation: "DPU (Delivered at Place Unloaded) is the only Incoterm requiring the seller to unload goods at destination.",
    relatedIncoterm: "DPU",
  },
  {
    id: "i4",
    difficulty: "intermediate",
    question: "Why should FOB NOT be used for containerized cargo?",
    options: [
      "FOB is only for air freight",
      "Containers are handed over before loading on ship",
      "FOB requires special documentation",
      "Containers are too heavy for FOB",
    ],
    correctIndex: 1,
    explanation: "Containers are typically handed to carrier at terminal before loading. FCA is more appropriate as risk transfers at handover, not 'on board'.",
    relatedIncoterm: "FCA",
  },
  {
    id: "i5",
    difficulty: "intermediate",
    question: "Under which Incoterm does the buyer handle export clearance?",
    options: ["FCA", "FOB", "EXW", "All of the above"],
    correctIndex: 2,
    explanation: "Only under EXW does the buyer handle export clearance. All other Incoterms require the seller to clear for export.",
    relatedIncoterm: "EXW",
  },
  {
    id: "i6",
    difficulty: "intermediate",
    question: "What is the key difference between CPT and CFR?",
    options: [
      "CPT includes insurance",
      "CPT works for any transport mode, CFR is sea-only",
      "CFR is for exports only",
      "There is no difference",
    ],
    correctIndex: 1,
    explanation: "CPT (Carriage Paid To) works for any transport mode, while CFR (Cost and Freight) is specifically for sea transport.",
    relatedIncoterm: "CPT",
  },
  {
    id: "i7",
    difficulty: "intermediate",
    question: "Under DDP, who is responsible for import duties and taxes?",
    options: ["Buyer", "Seller", "Customs broker", "Shipping carrier"],
    correctIndex: 1,
    explanation: "Under DDP, the seller pays all import duties and taxes. This is maximum seller obligation.",
    relatedIncoterm: "DDP",
  },
  {
    id: "i8",
    difficulty: "intermediate",
    question: "What does 'risk transfer point' mean in Incoterms?",
    options: [
      "When payment is due",
      "When ownership legally transfers",
      "When responsibility for loss/damage passes to buyer",
      "When goods clear customs",
    ],
    correctIndex: 2,
    explanation: "Risk transfer point is when responsibility for loss or damage to goods passes from seller to buyer, regardless of who pays for carriage.",
    relatedIncoterm: "FOB",
  },
  {
    id: "i9",
    difficulty: "intermediate",
    question: "Which Incoterm replaced DAT from Incoterms 2010?",
    options: ["DAP", "DDP", "DPU", "FCA"],
    correctIndex: 2,
    explanation: "DPU (Delivered at Place Unloaded) replaced DAT (Delivered at Terminal) in Incoterms 2020, with broader delivery location options.",
    relatedIncoterm: "DPU",
  },
  {
    id: "i10",
    difficulty: "intermediate",
    question: "Under FAS, where exactly does the seller deliver the goods?",
    options: [
      "On board the vessel",
      "Alongside the ship at the port",
      "At the buyer's warehouse",
      "At the shipping terminal gate",
    ],
    correctIndex: 1,
    explanation: "FAS (Free Alongside Ship) requires delivery alongside the vessel. The buyer is responsible for loading onto the ship.",
    relatedIncoterm: "FAS",
  },
  {
    id: "i11",
    difficulty: "intermediate",
    question: "Why might a seller prefer DAP over DDP?",
    options: [
      "DAP is cheaper",
      "Seller avoids import clearance complexity and duty liability",
      "DAP includes insurance",
      "DAP is faster",
    ],
    correctIndex: 1,
    explanation: "Under DAP, the buyer handles import clearance and pays duties, avoiding complexity and liability for the seller in the destination country.",
    relatedIncoterm: "DAP",
  },
  {
    id: "i12",
    difficulty: "intermediate",
    question: "What new feature was added to FCA in Incoterms 2020?",
    options: [
      "Insurance requirement",
      "Option to obtain on-board bill of lading",
      "Export clearance by buyer",
      "Unloading obligation",
    ],
    correctIndex: 1,
    explanation: "Incoterms 2020 added an option for seller to obtain an on-board bill of lading from the carrier under FCA, useful for letter of credit.",
    relatedIncoterm: "FCA",
  },
  {
    id: "i13",
    difficulty: "intermediate",
    question: "Under which terms does the seller contract for main carriage?",
    options: [
      "EXW, FCA, FAS, FOB",
      "CPT, CIP, CFR, CIF, DAP, DPU, DDP",
      "All Incoterms",
      "Only CIF and CIP",
    ],
    correctIndex: 1,
    explanation: "C-terms (CPT, CIP, CFR, CIF) and D-terms (DAP, DPU, DDP) require seller to contract for main carriage. F-terms and EXW do not.",
    relatedIncoterm: "CPT",
  },
  {
    id: "i14",
    difficulty: "intermediate",
    question: "What is the 'cost transfer point' in an Incoterm?",
    options: [
      "Same as risk transfer point",
      "Where cost responsibility shifts from seller to buyer",
      "The payment due date",
      "The customs clearance point",
    ],
    correctIndex: 1,
    explanation: "Cost transfer point is where cost responsibility shifts. Under C-terms, it differs from risk point - seller pays to destination but risk transfers earlier.",
    relatedIncoterm: "CFR",
  },
  {
    id: "i15",
    difficulty: "intermediate",
    question: "Which Incoterms are collectively known as 'D-terms'?",
    options: ["DDP only", "DAP and DDP", "DAP, DPU, and DDP", "DPU only"],
    correctIndex: 2,
    explanation: "D-terms are DAP, DPU, and DDP - all delivery terms where seller bears risk until goods reach destination.",
    relatedIncoterm: "DAP",
  },

  // === ADVANCED QUESTIONS ===
  {
    id: "a1",
    difficulty: "advanced",
    question: "A seller agrees to CIF but the container is damaged during loading at origin port. The goods inside are destroyed. Who bears the loss?",
    options: [
      "Seller, because they arranged insurance",
      "Buyer, because risk transferred when goods were on board",
      "Shipping company",
      "Insurance company",
    ],
    correctIndex: 1,
    explanation: "Even though seller arranged insurance, if damage occurred during loading (goods on board), risk has transferred to buyer who must claim on insurance.",
    relatedIncoterm: "CIF",
  },
  {
    id: "a2",
    difficulty: "advanced",
    question: "Under DDP, the destination country unexpectedly increases import duty by 50% after contract signing. Who pays the additional duty?",
    options: ["Buyer, as duties were not specified", "Seller, as DDP includes all duties", "Split 50/50", "The contract is void"],
    correctIndex: 1,
    explanation: "Under DDP, seller bears all import duties regardless of changes. Sellers should include escalation clauses or use DAP to avoid this risk.",
    relatedIncoterm: "DDP",
  },
  {
    id: "a3",
    difficulty: "advanced",
    question: "Why might CIP be preferred over CIF for high-value goods?",
    options: [
      "CIP is cheaper",
      "CIP requires higher insurance coverage (ICC A vs ICC C)",
      "CIF is only for sea transport",
      "Both B and C are correct",
    ],
    correctIndex: 3,
    explanation: "CIP requires ICC A (all risks) coverage vs CIF's ICC C (minimum). Additionally, CIP works for any transport mode, not just sea.",
    relatedIncoterm: "CIP",
  },
  {
    id: "a4",
    difficulty: "advanced",
    question: "A buyer wants an on-board bill of lading for a letter of credit, but goods are delivered to a container terminal. Which Incoterm with what option should be used?",
    options: [
      "FOB at port of loading",
      "FCA with on-board B/L option",
      "CIF at destination port",
      "EXW at seller's warehouse",
    ],
    correctIndex: 1,
    explanation: "Incoterms 2020 FCA allows requesting an on-board B/L from carrier after loading, solving the letter of credit requirement for containerized goods.",
    relatedIncoterm: "FCA",
  },
  {
    id: "a5",
    difficulty: "advanced",
    question: "Under EXW, the seller's country requires export licenses. The buyer cannot obtain one. What happens?",
    options: [
      "Seller must obtain the license",
      "Contract is fulfilled without export",
      "Transaction likely fails as buyer cannot export",
      "Customs handles it automatically",
    ],
    correctIndex: 2,
    explanation: "Under EXW, buyer handles export. If buyer cannot obtain required export license in seller's country, the transaction will likely fail. FCA is safer.",
    relatedIncoterm: "EXW",
  },
  {
    id: "a6",
    difficulty: "advanced",
    question: "Goods sold DAP arrive at destination, but buyer refuses to unload for 3 weeks. Who bears storage costs and demurrage?",
    options: [
      "Seller, as delivery isn't complete",
      "Buyer, as goods were placed at disposal ready for unloading",
      "Carrier",
      "Shared equally",
    ],
    correctIndex: 1,
    explanation: "Under DAP, once goods are at disposal ready for unloading, seller's obligation is complete. Buyer bears costs from delayed unloading.",
    relatedIncoterm: "DAP",
  },
  {
    id: "a7",
    difficulty: "advanced",
    question: "For multimodal transport from factory to inland destination, which Incoterm chain represents increasing seller obligation?",
    options: [
      "EXW → FCA → CPT → DAP → DDP",
      "DDP → DAP → CPT → FCA → EXW",
      "FOB → CIF → DAP → DDP",
      "FAS → FOB → CFR → CIF",
    ],
    correctIndex: 0,
    explanation: "EXW (minimum) → FCA → CPT → DAP → DDP (maximum) represents increasing seller obligation for any-mode transport. C and D options include sea-only terms.",
    relatedIncoterm: "CPT",
  },
  {
    id: "a8",
    difficulty: "advanced",
    question: "A DPU delivery is delayed because seller's unloading equipment breaks down at destination. Who bears the delay costs?",
    options: [
      "Buyer, as goods arrived at destination",
      "Seller, as unloading is their obligation",
      "Equipment supplier",
      "Carrier",
    ],
    correctIndex: 1,
    explanation: "Under DPU, seller's delivery obligation includes unloading. Seller bears costs of unloading delays, which is unique to this Incoterm.",
    relatedIncoterm: "DPU",
  },
  {
    id: "a9",
    difficulty: "advanced",
    question: "Under CPT, goods are stolen from the carrier's warehouse mid-transit. The seller has not purchased insurance. Who bears the loss?",
    options: [
      "Seller, as they contracted the carrier",
      "Buyer, as risk transferred at handover to first carrier",
      "Carrier under their liability",
      "Neither, as theft voids the contract",
    ],
    correctIndex: 1,
    explanation: "Under CPT, risk transfers when goods are handed to first carrier. Buyer should have arranged insurance. Carrier liability is usually limited.",
    relatedIncoterm: "CPT",
  },
  {
    id: "a10",
    difficulty: "advanced",
    question: "A seller is VAT-registered in both origin and destination countries. Which Incoterm allows best VAT recovery position?",
    options: [
      "EXW - buyer handles everything",
      "DDP - seller can reclaim import VAT",
      "DAP - seller avoids import VAT complications",
      "Depends on specific country VAT rules",
    ],
    correctIndex: 3,
    explanation: "VAT recovery depends on specific country rules. Sometimes DDP allows seller VAT recovery, but often the importer (buyer) has better VAT position.",
    relatedIncoterm: "DDP",
  },
  {
    id: "a11",
    difficulty: "advanced",
    question: "Why is 'CIF destination port' potentially misleading terminology?",
    options: [
      "CIF doesn't exist",
      "Risk transfers at origin, not destination, despite pricing to destination",
      "CIF is only for air freight",
      "Destination port cannot be named",
    ],
    correctIndex: 1,
    explanation: "CIF pricing includes cost to destination, but risk transfers at origin port when goods are on board. Buyers often misunderstand this distinction.",
    relatedIncoterm: "CIF",
  },
  {
    id: "a12",
    difficulty: "advanced",
    question: "A contract states 'FOB Shanghai Airport'. Is this valid?",
    options: [
      "Yes, FOB works for any named place",
      "No, FOB is only for sea transport, not air",
      "Yes, but only for cargo planes",
      "Depends on the cargo type",
    ],
    correctIndex: 1,
    explanation: "FOB is exclusively for sea/inland waterway transport. For air freight, FCA should be used. 'FOB Airport' is a common but incorrect usage.",
    relatedIncoterm: "FOB",
  },
  {
    id: "a13",
    difficulty: "advanced",
    question: "Under which circumstance would FAS be preferred over FOB?",
    options: [
      "For containerized cargo",
      "When buyer charters the entire vessel and controls loading",
      "For air freight",
      "When seller has better freight rates",
    ],
    correctIndex: 1,
    explanation: "FAS is useful when buyer charters the vessel and wants control over loading operations (e.g., bulk cargo, project cargo).",
    relatedIncoterm: "FAS",
  },
  {
    id: "a14",
    difficulty: "advanced",
    question: "What is the practical problem with using EXW for international sales?",
    options: [
      "EXW is only for domestic sales",
      "Buyer often cannot handle export formalities in seller's country",
      "EXW is too expensive",
      "EXW requires special documentation",
    ],
    correctIndex: 1,
    explanation: "Under EXW, buyer handles export clearance in seller's country, which is often impractical or impossible for foreign buyers. FCA is recommended instead.",
    relatedIncoterm: "EXW",
  },
  {
    id: "a15",
    difficulty: "advanced",
    question: "If an LC requires 'full set of clean on-board bills of lading', which Incoterm best ensures compliance?",
    options: [
      "EXW - gives buyer full control",
      "FCA with on-board B/L option or FOB/CFR/CIF",
      "DAP - seller controls entire shipment",
      "DDP - seller handles everything",
    ],
    correctIndex: 1,
    explanation: "FOB, CFR, CIF naturally provide on-board B/L. FCA with the Incoterms 2020 on-board B/L option also works for container shipments.",
    relatedIncoterm: "FOB",
  },
  {
    id: "a16",
    difficulty: "advanced",
    question: "Under CIP, who benefits from an insurance claim if goods are damaged in transit?",
    options: [
      "Seller, who paid for insurance",
      "Carrier, who transported goods",
      "Buyer, as they bear the risk",
      "The insurance company keeps the payout",
    ],
    correctIndex: 2,
    explanation: "Although seller pays for insurance under CIP, it is for the buyer's benefit since risk has transferred. Buyer (or their bank) claims.",
    relatedIncoterm: "CIP",
  },
  {
    id: "a17",
    difficulty: "advanced",
    question: "A seller under CFR fails to properly notify the buyer of shipment details. The buyer cannot arrange insurance in time. What happens?",
    options: [
      "Seller must provide insurance",
      "Buyer bears risk but may have breach of contract claim against seller",
      "Contract is automatically voided",
      "Carrier provides default insurance",
    ],
    correctIndex: 1,
    explanation: "Seller must notify buyer to enable insurance arrangement. Failure may constitute breach, but buyer still bears transit risk.",
    relatedIncoterm: "CFR",
  },
  {
    id: "a18",
    difficulty: "advanced",
    question: "Why was DAT replaced with DPU in Incoterms 2020?",
    options: [
      "DAT was too expensive",
      "DPU allows delivery at any place, not just terminals",
      "Legal requirements changed",
      "DAT didn't include insurance",
    ],
    correctIndex: 1,
    explanation: "DAT (Delivered at Terminal) was renamed DPU to clarify delivery can be at any place where unloading occurs, not just formal terminals.",
    relatedIncoterm: "DPU",
  },
  {
    id: "a19",
    difficulty: "advanced",
    question: "For a door-to-door shipment where seller cannot handle import formalities, which Incoterm is most appropriate?",
    options: ["DDP", "DAP", "DPU", "CPT"],
    correctIndex: 1,
    explanation: "DAP delivers to buyer's door without requiring seller to handle import clearance (unlike DDP). Buyer clears customs.",
    relatedIncoterm: "DAP",
  },
  {
    id: "a20",
    difficulty: "advanced",
    question: "Under which Incoterm(s) is the seller required to provide a commercial invoice?",
    options: ["Only CIF and CIP", "Only D-terms", "All Incoterms", "None, it's separate"],
    correctIndex: 2,
    explanation: "All Incoterms require seller to provide commercial invoice. This is a standard obligation across all 11 terms.",
    relatedIncoterm: "FOB",
  },
];

// Helper functions for quiz
export function getQuestionsByDifficulty(difficulty: Difficulty): QuizQuestion[] {
  return quizQuestions.filter((q) => q.difficulty === difficulty);
}

export function getRandomQuestions(difficulty: Difficulty, count: number): QuizQuestion[] {
  const filtered = getQuestionsByDifficulty(difficulty);
  const shuffled = [...filtered].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, Math.min(count, shuffled.length));
}

export function getQuestionCountByDifficulty(difficulty: Difficulty): number {
  switch (difficulty) {
    case "beginner":
      return 10;
    case "intermediate":
      return 15;
    case "advanced":
      return 20;
  }
}
