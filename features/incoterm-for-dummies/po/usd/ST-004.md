# ST-004: Acceptance Criteria

**Story:** View visual responsibility diagram
**USL Reference:** [ST-004 in usl.md](../usl.md#st-004-view-visual-responsibility-diagram)
**Last Updated:** 2026-01-23

---

## UI Elements

- **AC-001:** Diagram shows a horizontal timeline representing the shipping journey with labeled stages:
  - Seller's Premises
  - Export Customs
  - Origin Port/Terminal
  - Main Carriage
  - Destination Port/Terminal
  - Import Customs
  - Buyer's Premises
- **AC-002:** Diagram clearly marks the "Transfer Point" where risk passes from seller to buyer with a visual indicator.
- **AC-003:** Diagram shows colored segments indicating seller responsibility (one color) and buyer responsibility (different color).
- **AC-004:** Legend explains the color coding and symbols used in the diagram.
- **AC-005:** Diagram title shows the Incoterm code and "Responsibility Diagram".

---

## UI Behavior

- **AC-006:** On hover/tap of a stage, a tooltip shows detailed explanation of what happens at that stage.
- **AC-007:** The transfer point has an animated pulse effect to draw attention.
- **AC-008:** Diagram is zoomable on mobile devices (pinch-to-zoom).

---

## Logic

- **AC-009:** Each Incoterm has a unique diagram configuration based on its specific transfer points.
- **AC-010:** Diagram data is loaded from static JSON matching the Incoterm code.

---

## Special Notes

- **AC-011:** Diagram uses accessible colors that work for colorblind users (patterns as backup).
- **AC-012:** Diagram has alt text describing the transfer point for screen readers.
- **AC-013:** On mobile, diagram scrolls horizontally if needed, with visual indicator of scroll availability.
- **AC-014:** Below the diagram, include a text summary: "With [Incoterm], the seller is responsible until [point], after which the buyer takes over."

---

## Non-Functional Requirements

- **NFR-001:** Diagram renders as SVG for crisp display at all resolutions.
- **NFR-002:** Diagram loads within 500ms.

---

## Dependencies

| Type | ID | Description |
|------|-----|-------------|
| Story | ST-003 | Incoterm detail page to embed diagram |

---

## Estimate

**Story Points:** 5

---

## Traceability

| AC ID | UAT Reference | Design Reference |
|-------|---------------|------------------|
| AC-001 | TC-004 | WF-003, COMP-004 |
| AC-002 | TC-004 | COMP-004 |
| AC-003 | TC-004 | COMP-004 |
